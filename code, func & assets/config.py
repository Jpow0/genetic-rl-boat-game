#=---=---=---=---=---=---=---=---=---=
# PARÁMETROS
#=---=---=---=---=---=---=---=---=---=

import numpy as np

#=---=--- BOTES -------------------------
num_botes = 20
centro = [5, 0, 6]
tiempo_limite = 4
tiempo_limite_inicial = tiempo_limite

#=---=--- RED Y APRENDIZAJE -------------
input_size = 8      # entradas
hidden1 = 16      # hiden 1
hidden2 = 10       # hiden 2
output_size = 2      # salida (x, z)

top_n = 12         # número de ganadores
pesos_iniciales = True

#=---=--- VELOCIDAD Y SIMULACIÓN --------
velocidad_base = 6
simulacion_rapida = False
factor_velocidad = 1

fast_graphics = False
low_g = False
#=---=--- PECES -------------------------
posiciones_peces_actuales = []

#=---=--- ROCAS -------------------------
num_rocas = 20
umbral_choque = 0.20

#=---=--- ESTADÍSTICAS ------------------
frame_count = 0
ciclo = 0
top = []
top_set = set()
mvp = None
mejores_puntajes = []
promedio_puntajes = []
datos_evolucion = []


#=---=--- MAPA --------------------------
radio_max = 5

# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&//(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%/#%@@@@@@@@@&#///////////%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@((***/*****&@@%((/////*..  ..//***/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@#*/***********,,,*////*,            ,,,,..#@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@#     ,****,,,,..   ..        ,****,,    ..  %@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@#       ,,,              ,///*.,,,,,**//  */////%@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@%,,//,,,,/////,,  .,*//////*,......,,,,***////////#%&@@&###%%&@@@@@@@@@
# @@@@@@@@@@@@@@@@%((//////.(////////////////////*    ........,,,,***/////,.   .//////((@@@@@
# @@@@@@@@@@@@#///////*,  *&///////////////////******.     .......,,,,,***,.     .,//////** @
# @@@@@@@%#(/////*..    ,&&&&%%////////////////////*****,,     .......,.,.,///*///////..    @
# @@@(///////,         ,&&&&&&&&&(/////////////////////******/.    .*///***/*////*          @
# //////*,.      .,*//(%&&&&&&&&&&&&&&%##(/////(#####&&&(*********/**//******,,           ,/@
# //////.    ,*///////*//(&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%       **//*****,.           ////@@@
# //////,*///////******,,.%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&&%...     ,,,,,.         .,////*(@@@@
#  //////////////,,,,.  */(%%%%%%%&&&&&&&&&&&&&&&&&&&%((///////.             .*///****%@@@@@@
#    *///////////////////////%%%%%%%/*/#%%%&&&&&%%#////////                  .****(@@@@@@@@@@
# (    ,////////////////////////***///,,  /%%#(///////,                 .*****/%@@@@@@@@@@@@@
# @       *////////////////////.,,,,   ,/////////*                  ,****,,(@@@@@@@@@@@@@@@@@
# @@*          ,***////////////////////////**.            ..////*****//%@@@@@@@@@@@@@@@@@@@@@
# @@@@%.              ..............////,.           .**/////***,,#@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@*.                                      .,////*******@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@&(*,,.                          .,*////*****##@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@#*///////*               ,////*****,/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@&(((***/**////////////*****/(#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&/******,(&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


#=---=---=---=---=---=---=---=---=---=
# PESOS Y SESGOS PRE DEFINIDOS
#=---=---=---=---=---=---=---=---=---=

if pesos_iniciales == True:

  pesos_iniciales = [
  # ---------------
  # w1
  # ---------------
  np.array([
      [  6.12761504,   0.66168626,  -7.33816956,   0.97831296,   1.37337504,
        7.22002914,  -0.04978656,  -3.79665566,   0.87936517,  -4.5170199 ,
        -6.59294857,  -2.16793712,   5.08061768,   7.14058246,  -9.08516423,
        -0.66335879],
      [  6.02665363,  -0.23584768,   0.66134893,   2.55413519,   0.28640943,
        -0.09164447,  -5.0941372 ,   0.18086283,   1.38453463,   0.20252392,
        0.32597007,   2.11807439,  -0.37813112,  -3.99107911,  -4.47805703,
        -2.52246187],
      [ -2.62389213,   6.83027353,   4.80698147, -11.13077558,  -4.64756335,
        -1.91370387,  -0.22238947,   0.65994194,   0.29974991,  -4.57575654,
        -9.43836194,   1.87721275,   1.57115384,  -5.85806791,  -3.87343972,
        -0.53386221],
      [ -4.8904337 ,   4.42022136,   5.32875552,  -0.59191525,   6.82521771,
        0.43134708,   0.85465756,   2.03847244,  -3.58628537,  -6.5047076 ,
        5.16291286,   4.32921163,   0.74465973,  -2.20116738,   2.50686883,
        0.07384577],
      [ -0.22157644,   0.92096711,   7.0991334 ,  -5.89513556,  -0.15272318,
        -1.72935532,   3.75901532,   2.09265888,  -3.66599396,   4.70360503,
        -1.28318334,   0.36626058,   1.70299444,  -0.67321538,   8.45473447,
        5.82532096],
      [  1.50308676,  -2.87188284,   2.89291093,   1.66876245,   3.42262011,
        0.82292801,   2.88519728,   3.43125119,  -5.47214832,   2.78715551,
        0.2748559 ,   0.62164874,   0.66104421,   2.50584804,   2.32906405,
        1.70270677],
      [ -0.32842196,   3.00631236,  -0.43515019,   1.95713353,   1.94029109,
        1.98611782,   2.15211834,   9.68549976,   2.59763661,  -0.76118801,
        2.02817455,   0.86510555,  -2.84209536,   6.42295037,   0.42966462,
        1.25215268],
      [  1.00403287,   2.03597488,   0.4523761 ,   3.31627112,   1.41458154,
        0.16512086,  -0.07217777,   2.7480427 ,  -1.09560051,  -0.02755035,
        -4.44777213,  -5.41845686,  -0.90047889,  -3.20076848,  -4.02257909,
        -5.73357535]
  ]),
  # ---------------
  # w2
  # ---------------
  np.array([
      [-0.78117028, -2.60228569, -2.69575254, -3.95853094, -0.66331744,
        2.96024401,  4.24952324, -0.84346596, -0.42604214, -1.67454196],
      [-4.68667571, -4.03766301,  4.04528285, -2.00510415, -5.99421551,
        0.0595572 , -4.43994911, -6.98814897,  6.18178236,  2.99272866],
      [-0.63498682,  1.30335088,  3.3378916 ,  4.20760713, -2.37266958,
      -7.68582006,  2.55947944, -0.37982288, -1.97401083, -1.50811779],
      [ 2.04808265, -4.07767752, -4.0827276 ,  0.9304896 ,  7.39659055,
        0.55293308,  4.45836994, -8.19985012, -0.99050854, -4.83026691],
      [ 4.64146613, -0.23382075, -4.90329403,  1.04110407, -1.69663381,
      -0.93942863, -1.43639331,  4.56093844, -3.31598241,  1.055295  ],
      [ 0.47732679, -4.91829294, -4.46821965, -3.0130663 ,  1.26220862,
        0.21227261,  0.48455502, -3.89202983, -1.1706533 , -6.03600319],
      [-4.95100534, -1.23078284, -1.80041885, -1.96566218, -8.15817102,
        5.95965755,  0.27283002, -3.28032364,  5.73322377, -2.36133673],
      [-0.70913516, -3.77920116,  4.85997049,  3.59038558, -4.41295918,
        3.17940015,  5.60098778, -3.01463176, -1.90607511,  1.5364479 ],
      [-6.46707019, -2.89438251, -2.26503795, -0.39769767, -2.2526459 ,
        4.23710071, -7.87736049,  4.67453567,  2.66090484, -2.30573836],
      [ 2.87448049, -0.92926366,  4.63173522,  0.29506774,  5.4540902 ,
        1.29202519, -1.60856515,  3.34838664, -2.99407319, -4.89367761],
      [-3.83282181, -0.05287482, -7.53369847,  4.01266478,  2.06214458,
        0.80052885,  4.22746987,  0.05194362,  4.54788845, -0.82385451],
      [ 7.64675783, -0.47120588,  2.04371341,  3.49265361, -5.10567967,
        2.84170004, -0.63551233, -1.83631036, -4.36607723,  3.37918962],
      [-1.54879145,  2.13049336, -1.63462426,  2.56199979,  5.43899737,
      -1.79423279, -3.21199077,  0.42831765,  2.59123301, -3.07309454],
      [ 0.78311979,  5.25960726, -3.10868049,  0.07126033,  0.49138369,
      -0.12884437, -1.31476335, 10.43130826, -3.56517595, -6.5234794 ],
      [-2.1905081 , -1.40307072,  6.86053867, -2.17847869,  3.12980601,
        0.76308957, -4.68818826, -5.00927646, -7.04649951,  0.68311237],
      [ 1.02593353,  5.11615592,  3.60346088, -3.54598781,  1.69354746,
      -3.80292723, -6.31122746,  1.40965377,  3.29618188, -0.52445806]
  ]),
  # ---------------
  # w3
  # ---------------
  np.array([
      [ 0.63098971, -2.9555408 ],
      [ 0.68565283, -1.23879342],
      [-0.34630647,  9.82174738],
      [ 8.19397483,  7.92466904],
      [ 1.71717352,  0.77938978],
      [-2.5766696 , -1.90831317],
      [-4.42840718,-12.76256645],
      [-3.15298969,  4.35344452],
      [ 2.65513006, -2.4051793 ],
      [-1.38923661, -6.57025735]
  ]),
  # ---------------
  # b1
  # ---------------
  np.array([
      -1.6438996 , -2.37290938,  1.55466977, -2.90458266, -0.52954483,
      2.26770441,  4.37432041, -3.97527072, -0.92051228,  0.13561825,
      0.95562113,  4.24000308, -0.64118996,  0.51923843, -0.3150778 ,
      3.36843644
  ]),
  # ---------------
  # b2
  # ---------------
  np.array([
      2.19403548, -0.79518355, -0.79584667, -1.15585502, -0.09537848,
      2.68907584, -2.5358704 ,  1.61051576, -0.11405711, -1.14178192
  ]),
  # ---------------
  # b3
  # ---------------
  np.array([-0.2067291, 0.44191863])
  ]
